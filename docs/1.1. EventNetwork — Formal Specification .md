## EventNetwork — Formal Specification

### Definition

An **EventNetwork** is a **directed acyclic graph (DAG)** whose nodes represent immutable events and whose edges represent **derivation relationships** between events.

The EventNetwork models **semantic derivation**, not causal explanation.

Its primary purpose is to describe **how events contribute to higher-level derived events**, rather than why an event occurred.

---

### Core Invariants

1. **Immutability**

   Once an event is added to the EventNetwork, it MUST NOT be modified.

2. **Append-only construction**

   All externally introduced events are added as **leaf nodes**.

   Non-leaf nodes are created exclusively through **derivation**.

3. **Temporal consistency**

   An event may only derive from events that already exist in the network.

4. **Acyclicity**

   No derivation may introduce cycles.

   The EventNetwork is always a DAG.


---

### Bottom-Up Derivation Model

The EventNetwork is constructed **bottom-up**:

- **Leaf events** represent externally observed facts.
- **Derived events** are created when one or more existing events satisfy a logical or structural rule.
- Derived events may themselves participate in further derivations, forming multiple derivation levels.

The EventNetwork does **not** traverse from roots to leaves to explain causality.

Instead, it traverses from leaves toward derived nodes to explain **contribution and aggregation of meaning**.

---

### Structural Direction vs. Derivation Semantics

The EventNetwork distinguishes between:

- **Structural edge direction**

  The physical direction of edges in the graph.

- **Derivation direction (semantic)**

  The conceptual flow of meaning from contributing events to derived events.


These directions are intentionally **not equivalent**.

A derived event is considered a **semantic parent** of the events from which it was derived, even though structurally it may appear as a child node.

This distinction is fundamental and intentional.

---

### Terminology

All traversal operations are defined in terms of **derivation semantics**, not raw edge direction.

### Children (Derivation Sources)

Events that directly contributed to a derived event (evidence).

- Children are semantic inputs.
- Structurally, they may appear as inbound edges.

> Querying an event for its children returns the events that were used to derive it.

---

### Parents (Derived Events)

Derived events that interpret an event (abstraction).

**Parents** of an event are derived events that were created using this event as one of their inputs.

- Parents represent semantic aggregation.
- They exist at a higher derivation level.

---

### Descendants (with maxDepth)

All higher-level semantic interpretations derived from an event by traversing parents upward.

> The contributing subgraph is accessed via Children traversal, not via Descendants.

---

### Siblings

**Siblings** are events that share at least one common parent.

- Two events are siblings if they both contributed to the same derived event.
- Sibling relationships are semantic, not structural.

### Peers

**Peers** 
Peers are events that occupy the same semantic role in the EventNetwork structure, independent of direct causality.

Peers are type specific, parentless events.
	
Semantic meaning (bottom-up derivation):
 - “Parents(of)” are higher-level derived events that were created *using* this event.
 - If an event has NO parents, it means: “nothing above it currently derives from it”.
 - Peers are therefore events that are at the same “top-of-derivation” frontier, grouped by type (and usually by domain too).
 
This is intentionally NOT “siblings”:
 - Siblings require a shared derived parent.
 - Peers do NOT require a shared parent — they exist precisely for the case where no parent exists (disconnected but same-level, same-type contextual grouping).

> Events occupying the same semantic role without shared derivation.
---

### Ancestry (with maxDepth)

**Ancestors** of an event are derived events obtained by recursively traversing parents, up to `maxDepth`.

- `maxDepth = 1` returns direct parents.
- Higher depths return parents, grandparents, etc.

---

### Cousins (with maxDepth)

Events related through shared derivational ancestry but not direct contribution.

- the event itself,
- its direct siblings,
- and direct derivation paths.

Cousins represent **contextual relatedness** emerging from shared derivational history rather than direct contribution.

---

### Derived Context Propagation

Derived events implicitly extend the semantic context of the network.

Once an event is derived, it may act as a **virtual parent context** for subsequent traversal and pattern recognition, even if it is not a direct structural ancestor.

This enables:

- semantic propagation,
- multi-level pattern recognition,
- incremental reasoning over evolving networks.

---

### Memory Implications (Non-Normative)

The bottom-up derivation model enables memory to be associated with:

- derivation steps,
- traversal paths,
- partial recognitions,

  rather than with individual events alone.


This allows efficient tracking of EventNetwork behavior over time without mutating event data.

---

### Summary

The EventNetwork is a **derivation-centric DAG** where:

- events are immutable facts,
- meaning flows upward through derivation,
- structural direction and semantic lineage are intentionally distinct,
- and higher-order relationships emerge through shared derivational history.

This model prioritizes **semantic propagation and recognition** over causal explanation.